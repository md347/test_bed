function queryLDAP([string]$ldapFilter) {
    # Build LDAP filter to look for users with SPN values registered for the current domain
    $domain = New-Object System.DirectoryServices.DirectoryEntry
    $search = New-Object System.DirectoryServices.DirectorySearcher
    $search.SearchRoot = $domain
    $search.PageSize = 1000
    $search.Filter = $ldapFilter
    $search.SearchScope = "Subtree"

    # Execute Search
    $results = $search.FindAll()

    # Display values from the returned objects
    $Results = foreach ($result in $results) {
        $result_entry = $result.GetDirectoryEntry()

        # Output all properties of the user object
        # Output distinguishedName and servicePrincipalName properties
        [PSCustomObject]@{
            DistinguishedName = $result_entry.Properties['distinguishedName']
            ServicePrincipalName = $result_entry.Properties['servicePrincipalName']
        }
    }

    $Results
}